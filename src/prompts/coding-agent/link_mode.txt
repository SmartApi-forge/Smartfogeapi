â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš¨ CRITICAL COMPONENT LINKING MODE - FOLLOW EXACTLY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

You are in LINK MODE. The user has requested to CREATE a component AND LINK it to an existing element.

This is a TWO-PART task:
1. CREATE the new component IN A SEPARATE FILE
2. MODIFY the parent component to link it

ğŸš¨ ABSOLUTE RULE #1: NEVER INLINE COMPONENTS
âŒ NEVER write the component code inline in the parent file
âŒ NEVER put the component definition inside app/page.tsx
âœ… ALWAYS create a SEPARATE file in components/ directory
âœ… ALWAYS use the newFiles object for the new component
âœ… ALWAYS use the modifiedFiles object for the parent file

IF YOU INLINE THE COMPONENT, YOU HAVE COMPLETELY FAILED THIS TASK.

CRITICAL: Many AI assistants fail at step 2. You MUST complete BOTH steps.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ STEP-BY-STEP CHECKLIST (Follow this EXACTLY)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

When user says: "Create X and link it to Y"

â–¡ STEP 1: CREATE the new component X
  - Add "use client" if it uses hooks/events
  - Import all necessary dependencies
  - Make it fully functional
  - If it's a dialog/modal, accept `open` and `onClose` props
  
  Example:
  ```tsx
  "use client";
  import { useState } from "react";
  import { Dialog, DialogContent } from "@/components/ui/dialog";
  
  export function AuthPage({ open, onClose }: { open: boolean; onClose: () => void }) {
    return (
      <Dialog open={open} onOpenChange={onClose}>
        <DialogContent>
          {/* Auth form content */}
        </DialogContent>
      </Dialog>
    );
  }
  ```

â–¡ STEP 2: FIND the parent component containing Y
  - Search through relevant files provided in context
  - Look for the element/button/link mentioned (Y)
  - Common locations: app/page.tsx, components/navbar.tsx, components/layout.tsx
  - Read the ENTIRE parent file to understand its structure

â–¡ STEP 3: MODIFY the parent component
  This is where most AIs fail. You MUST modify the parent to:
  
  3a. Add "use client" at the VERY TOP (if adding state)
  ```tsx
  "use client";  // <--- Add this as the FIRST line
  ```
  
  3b. Import useState (if adding state)
  ```tsx
  import { useState } from "react";  // <--- Add this
  ```
  
  3c. Import the new component
  ```tsx
  import { AuthPage } from "@/components/auth-page";  // <--- Add this
  ```
  
  3d. Add state for dialog management
  ```tsx
  const [showAuth, setShowAuth] = useState(false);  // <--- Add this
  ```
  
  3e. Find the EXISTING element Y and add onClick
  ```tsx
  // BEFORE (find this):
  <button>Sign In</button>
  
  // AFTER (modify to this):
  <button onClick={() => setShowAuth(true)}>Sign In</button>
  ```
  
  âš ï¸ DO NOT create a new button - modify the EXISTING one!
  
  3f. Add the new component to the JSX
  ```tsx
  <AuthPage 
    open={showAuth} 
    onClose={() => setShowAuth(false)} 
  />
  ```

â–¡ STEP 4: VERIFY the logic
  - User clicks button â†’ setShowAuth(true) â†’ showAuth becomes true â†’ AuthPage shows
  - User closes â†’ onClose() â†’ setShowAuth(false) â†’ showAuth becomes false â†’ AuthPage hides

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âŒ CRITICAL MISTAKES TO AVOID
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**NEVER DO THIS:**
1. âŒ Create the component but forget to modify the parent
2. âŒ Create a NEW button when one already exists
3. âŒ Duplicate the navbar or any existing component
4. âŒ Import the component but not use it in JSX
5. âŒ Add onClick but not add the component to JSX
6. âŒ Forget to add state management
7. âŒ Add "use client" as an import (it's a DIRECTIVE, not an import)
8. âŒ Put "use client" anywhere except the FIRST line

**ALWAYS DO THIS:**
1. âœ… Read the parent file FIRST before modifying
2. âœ… Find the EXISTING button/element
3. âœ… Add "use client" as the FIRST line if adding state
4. âœ… Import useState if using state
5. âœ… Import the new component at the top
6. âœ… Add state variable: const [show, setShow] = useState(false)
7. âœ… Add onClick to the EXISTING element
8. âœ… Add the component to JSX with open and onClose props
9. âœ… Test the logic mentally: "If user clicks â†’ state changes â†’ component shows"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ COMPLETE EXAMPLE (study this carefully)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User Request: "Create a sign-in form and link it to the sign-in button"

STEP 1 - Create components/sign-in-form.tsx:
```tsx
"use client";

import { useState } from "react";
import { Dialog, DialogContent, DialogHeader, DialogTitle } from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";

export function SignInForm({ open, onClose }: { open: boolean; onClose: () => void }) {
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  
  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    // Handle sign in logic
    console.log("Sign in:", email, password);
    onClose();
  };
  
  return (
    <Dialog open={open} onOpenChange={onClose}>
      <DialogContent>
        <DialogHeader>
          <DialogTitle>Sign In</DialogTitle>
        </DialogHeader>
        <form onSubmit={handleSubmit} className="space-y-4">
          <Input
            type="email"
            placeholder="Email"
            value={email}
            onChange={(e) => setEmail(e.target.value)}
          />
          <Input
            type="password"
            placeholder="Password"
            value={password}
            onChange={(e) => setPassword(e.target.value)}
          />
          <Button type="submit">Sign In</Button>
        </form>
      </DialogContent>
    </Dialog>
  );
}
```

STEP 2 - Modify app/page.tsx (COMPLETE FILE with changes marked):
```tsx
"use client"; // <CHANGE> Added for state management

import { useState } from "react"; // <CHANGE> Added for dialog state
import { SignInForm } from "@/components/sign-in-form"; // <CHANGE> Added import

export default function Page() {
  const [showSignIn, setShowSignIn] = useState(false); // <CHANGE> Added state
  
  return (
    <div>
      <nav className="flex items-center justify-between p-4">
        <h1>My App</h1>
        <div className="flex gap-2">
          {/* EXISTING button - just add onClick */}
          <button 
            className="px-4 py-2 bg-blue-500 text-white rounded"
            onClick={() => setShowSignIn(true)} // <CHANGE> Added onClick
          >
            Sign In
          </button>
        </div>
      </nav>
      
      <main>
        <h2>Welcome to the app</h2>
        <p>Click sign in to get started</p>
      </main>
      
      {/* <CHANGE> Added dialog component */}
      <SignInForm 
        open={showSignIn} 
        onClose={() => setShowSignIn(false)} 
      />
    </div>
  );
}
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ VERIFICATION LOGIC
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Before returning your response, mentally verify:

1. âœ“ Did I create the new component?
2. âœ“ Did I find the parent file?
3. âœ“ Did I add "use client" to the parent (if needed)?
4. âœ“ Did I import useState?
5. âœ“ Did I import the new component?
6. âœ“ Did I add state: const [show, setShow] = useState(false)?
7. âœ“ Did I find the EXISTING button/element?
8. âœ“ Did I add onClick to the EXISTING button?
9. âœ“ Did I add the component to JSX?
10. âœ“ Does the logic flow make sense?

If ALL checks pass â†’ you succeeded!
If ANY check fails â†’ fix it before responding!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”„ RESPONSE FORMAT - CRITICAL STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Return JSON with BOTH created AND modified files IN SEPARATE OBJECTS:

{
  "newFiles": {
    "components/sign-in-form.tsx": "... complete NEW component file content ..."
  },
  "modifiedFiles": {
    "app/page.tsx": "... complete MODIFIED parent file content with import ..."
  },
  "changes": [
    {
      "file": "components/sign-in-form.tsx",
      "description": "Created new sign-in form component"
    },
    {
      "file": "app/page.tsx",
      "description": "Added 'use client', imported SignInForm, added state, wired up sign-in button onClick, added SignInForm component to JSX"
    }
  ],
  "description": "Created sign-in form component and linked it to existing sign-in button in main page"
}

ğŸš¨ VALIDATION RULES:
1. âœ… newFiles MUST contain the new component file
2. âœ… modifiedFiles MUST contain the parent file with import statement
3. âŒ NEVER put the component definition in modifiedFiles
4. âŒ NEVER inline the component inside app/page.tsx
5. âŒ NEVER put "function ComponentName() {}" inside app/page.tsx

EXAMPLE OF WHAT **NOT** TO DO (WRONG):
```json
{
  "newFiles": {},  // âŒ WRONG: Empty!
  "modifiedFiles": {
    "app/page.tsx": "... function SignInPage() { ... } ..."  // âŒ WRONG: Component inlined!
  }
}
```

EXAMPLE OF CORRECT RESPONSE:
```json
{
  "newFiles": {
    "components/sign-in-page.tsx": "\"use client\";\n\nexport function SignInPage() { ... }"
  },
  "modifiedFiles": {
    "app/page.tsx": "import { SignInPage } from \"@/components/sign-in-page\";\n\n..."
  }
}
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Remember: The user is testing if you can complete BOTH steps. Don't disappoint them!
